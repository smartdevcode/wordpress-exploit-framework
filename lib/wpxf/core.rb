# frozen_string_literal: true

# The root namespace.
module Wpxf
  # The namespace for WordPress mixins and classes.
  module WordPress
  end

  # The namespace for network related mixins and classes.
  module Net
  end

  # The namespace for version generation mixins and classes.
  module Versioning
  end

  # The namespace for utility classes and modules.
  module Utility
  end

  def self.data_directory=(val)
    @@data_directory = val
  end

  def self.data_directory
    @@data_directory
  end

  def self.app_path=(val)
    @@app_path = val
  end

  def self.app_path
    @@app_path
  end

  def self.change_stdout_sync(enabled)
    original_setting = STDOUT.sync
    STDOUT.sync = true
    yield(enabled)
    STDOUT.sync = original_setting
  end
end

require 'wpxf/core/data_file'
require 'wpxf/core/options'
require 'wpxf/core/payload'
require 'wpxf/core/event_emitter'
require 'wpxf/core/output_emitters'
require 'wpxf/core/module_info'
require 'wpxf/core/module_authentication'

require 'wpxf/versioning/browser_versions'
require 'wpxf/versioning/os_versions'

require 'wpxf/net/cookie_jar'
require 'wpxf/net/user_agent'
require 'wpxf/net/http_server'
require 'wpxf/net/http_response'
require 'wpxf/net/typhoeus_helper'
require 'wpxf/net/http_options'
require 'wpxf/net/http_client'

require 'wpxf/wordpress/options'
require 'wpxf/wordpress/urls'
require 'wpxf/wordpress/login'
require 'wpxf/wordpress/fingerprint'
require 'wpxf/wordpress/plugin'
require 'wpxf/wordpress/posts'
require 'wpxf/wordpress/user'
require 'wpxf/wordpress/xss'
require 'wpxf/wordpress/reflected_xss'
require 'wpxf/wordpress/staged_reflected_xss'
require 'wpxf/wordpress/stored_xss'
require 'wpxf/wordpress/shell_upload'
require 'wpxf/wordpress/file_download'

require 'wpxf/core/module'
