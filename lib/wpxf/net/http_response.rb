module Wpxf
  module Net
    # A response from a request made by a HttpClient.
    class HttpResponse
      def initialize(res)
        parse_typhoeus_response(res) if res.is_a? Typhoeus::Response
      end

      def parse_typhoeus_response(res)
        self.code = res.code
        self.body = res.body
        self.headers = res.headers
        self.timed_out = res.timed_out?
        self.cookies = CookieJar.new.parse(res.headers['Set-Cookie'])
      end

      attr_accessor :code
      attr_accessor :body
      attr_accessor :headers
      attr_accessor :timed_out
      attr_accessor :cookies
    end
  end
end
