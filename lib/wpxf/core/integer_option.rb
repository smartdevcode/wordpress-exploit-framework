
module Wpxf

  # An integer option.
  class IntegerOption < Option

    # @param value the value to normalize.
    # @return [Integer] a normalized value to conform with the type that the option is conveying.
    def normalize(value)
      if value.to_s.match(/^0x[a-fA-F\d]+$/)
        value.to_i(16)
      else
        value.to_i
      end
    end

    # Checks if the specified value is valid in the context of this option.
    # @param value the value to validate.
    # @return [Boolean] true if valid.
    def valid?(value)
      if value && !value.to_s.match(/^0x[0-9a-fA-F]+$|^-?\d+$/)
        return false
      end

      return super
    end
    
  end

end