require_relative '../spec_helper'

describe Wpxf::WordPress::FileDownload do
  let(:subject) do
    Class.new(Wpxf::Module) do
      include Wpxf::WordPress::FileDownload
    end.new
  end

  describe '#new' do
    it 'registers the remote_file option' do
      expect(subject.get_option('remote_file')).to_not be_nil
    end

    it 'registers the export_path option' do
      expect(subject.get_option('export_path')).to_not be_nil
    end
  end

  describe '#run' do
    it 'raises an error if #working_directory is not implemented' do
      expect { subject.run }.to raise_error(
        'A value must be specified for #working_directory'
      )
    end
  end
end
