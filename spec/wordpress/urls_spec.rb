require_relative '../spec_helper'

describe Wpxf::WordPress::Urls do
  # Dummy class for tests.
  class Subject < Wpxf::Module
    include Wpxf::WordPress::Options
    include Wpxf::WordPress::Urls
  end

  let(:subject) do
    subject = Subject.new
    subject.set_option_value('target_uri', '/wp')
    subject
  end

  describe '#wordpress_url_login' do
    it 'returns the WordPress login URL' do
      url = '/wp/wp-login.php'
      expect(subject.wordpress_url_login).to eq url
    end
  end

  describe '#wordpress_url_post' do
    it 'returns URL of the specified WordPress post' do
      url = '/wp/?p=10'
      expect(subject.wordpress_url_post(10)).to eq url
    end
  end

  describe '#wordpress_url_author' do
    it 'returns the WordPress author URL' do
      url = '/wp/?author=10'
      expect(subject.wordpress_url_author(10)).to eq url
    end
  end

  describe '#wordpress_url_rss' do
    it 'returns the WordPress RSS URL' do
      url = '/wp/?feed=rss2'
      expect(subject.wordpress_url_rss).to eq url
    end
  end

  describe '#wordpress_url_rdf' do
    it 'returns the WordPress RDF URL' do
      url = '/wp/feed/rdf/'
      expect(subject.wordpress_url_rdf).to eq url
    end
  end

  describe '#wordpress_url_atom' do
    it 'returns the WordPress ATOM URL' do
      url = '/wp/feed/atom/'
      expect(subject.wordpress_url_atom).to eq url
    end
  end

  describe '#wordpress_url_readme' do
    it 'returns the WordPress readme file URL' do
      url = '/wp/readme.html'
      expect(subject.wordpress_url_readme).to eq url
    end
  end

  describe '#wordpress_url_sitemap' do
    it 'returns the WordPress sitemap URL' do
      url = '/wp/sitemap.xml'
      expect(subject.wordpress_url_sitemap).to eq url
    end
  end

  describe '#wordpress_url_opml' do
    it 'returns the WordPress OPML URL' do
      url = '/wp/wp-links-opml.php'
      expect(subject.wordpress_url_opml).to eq url
    end
  end

  describe '#wordpress_url_admin' do
    it 'returns the WordPress admin URL' do
      url = '/wp/wp-admin/'
      expect(subject.wordpress_url_admin).to eq url
    end
  end

  describe '#wordpress_url_admin_ajax' do
    it 'returns the WordPress admin AJAX URL' do
      url = '/wp/wp-admin/admin-ajax.php'
      expect(subject.wordpress_url_admin_ajax).to eq url
    end
  end

  describe '#wordpress_url_admin_post' do
    it 'returns the WordPress admin post URL' do
      url = '/wp/wp-admin/admin-post.php'
      expect(subject.wordpress_url_admin_post).to eq url
    end
  end

  describe '#wordpress_url_admin_update' do
    it 'returns the WordPress admin update URL' do
      url = '/wp/wp-admin/update.php'
      expect(subject.wordpress_url_admin_update).to eq url
    end
  end

  describe '#wordpress_url_wp_content' do
    it 'returns the WordPress wp-content URL' do
      url = '/wp/wp-content'
      expect(subject.wordpress_url_wp_content).to eq url
    end
  end

  describe '#wordpress_url_plugins' do
    it 'returns the WordPress plugins URL' do
      url = '/wp/wp-content/plugins'
      expect(subject.wordpress_url_plugins).to eq url
    end
  end

  describe '#wordpress_url_themes' do
    it 'returns the WordPress themes URL' do
      url = '/wp/wp-content/themes'
      expect(subject.wordpress_url_themes).to eq url
    end
  end

  describe '#wordpress_url_xmlrpc' do
    it 'returns the WordPress XMLRPC URL' do
      url = '/wp/xmlrpc.php'
      expect(subject.wordpress_url_xmlrpc).to eq url
    end
  end
end
