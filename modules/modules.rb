module Wpxf
  def self.underscore(module_name)
    module_name.gsub(/::/, '/').
                gsub(/([A-Z]+)([A-Z][a-z])/,'\1_\2').
                gsub(/([a-z\d])([A-Z])/,'\1_\2').
                tr("-", "_").
                downcase
  end

  module Auxiliary
    def self.module_list
      modules = Wpxf::Auxiliary.constants.select do |c|
        Wpxf::Auxiliary.const_get(c).is_a? Class
      end

      modules.map { |m| "auxiliary/#{Wpxf.underscore(m.to_s)}" }
    end
  end
end

require_all 'auxiliary'
require_all 'exploits'
